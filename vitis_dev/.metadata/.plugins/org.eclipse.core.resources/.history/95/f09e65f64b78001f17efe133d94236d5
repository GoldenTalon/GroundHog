#include "xparameters.h"  // Definitions for peripheral base addresses
#include "xil_io.h"       // I/O functions for memory-mapped I/O
#include "sleep.h"        // Sleep functions

#define LED_ADDR 0x40000000 // Memory-mapped I/O address for the 16-bit LEDs

void delay(int cycles) {
    for (int i = 0; i < cycles; i++) {
        asm("nop");
    }
}

int main() {
    u16 led_pattern = 0x0001; // Start with the first LED on

    while (1) {
        // Write the current LED pattern to the memory-mapped LED address
        Xil_Out16(LED_ADDR, led_pattern);

        // Shift the LED pattern left by one, wrapping around after 16 bits
        led_pattern = (led_pattern << 1) | ((led_pattern >> 15) & 0x0001);

        // Delay to slow down the blinking
        sleep(1); // Delay for 1 second
    }

    return 0;
}
